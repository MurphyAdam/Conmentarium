(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"n",(function(){return c})),n.d(t,"p",(function(){return i})),n.d(t,"o",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"m",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"q",(function(){return O})),n.d(t,"s",(function(){return j})),n.d(t,"r",(function(){return v}));var a="FETCH_NOTE",r="FETCH_NOTE_SUCCESS",o="FETCH_NOTE_FAILURE",c="REFETCH_NOTE",i="REFETCH_NOTE_SUCCESS",u="REFETCH_NOTE_FAILURE",l="FETCH_TRASHED_NOTES",s="FETCH_TRASHED_NOTES_SUCCESS",d="FETCH_TRASHED_NOTES_FAILURE",f="EMPTY_TRASH",m="DELETE_NOTE",b="DELETE_NOTE_SUCCESS",E="DELETE_NOTE_FAILURE",g="DELETE_TRASHED_NOTE",h="DELETE_NOTE_TRASHED_SUCCESS",p="DELETE_NOTE_TRASHED_FAILURE",O="RESTORE_TRASHED_NOTE",j="RESTORE_NOTE_TRASHED_SUCCESS",v="RESTORE_NOTE_TRASHED_FAILURE"},100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=["rgb(76 175 80 / 22%)","rgb(156 39 176 / 33%)","rgb(233 30 99 / 53%)","rgb(0 150 136 / 35%)","#ff572275","rgb(33 150 243 / 34%)","#ffeb3b4d","rgb(103 58 183 / 45%)"]},128:function(e,t,n){e.exports=n(166)},166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),i=n(6),u=n(31),l=n(228),s=n(222),d=n(207),f=n(210),m=n(212),b=n(122),E=n(213),g=n(232),h=n(106),p=n.n(h),O=n(23),j=n(57);function v(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var r=n[a].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t}var k=function(){var e=v("AppTheme");return e||"light"},S=function(e){return function(e,t,n){var a="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),a="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+a+"; path=/"}("AppTheme",e,30)},N="dark"===k(),T=k();var _=Object(d.a)((function(e){return{grow:{flexGrow:1,margin:e.spacing(0)},appBar:{zIndex:200},Toolbar:{zIndex:200},AppBarButtons:{textTransform:"none"},title:Object(u.a)({fontSize:15,textTransform:"none"},e.breakpoints.up("sm"),{display:"block"})}}));var y=Object(O.connect)((function(e){return{darkModeOn:e.ui.darkModeOn,currentUser:e.auth.currentUser,isAuthenticated:e.auth.currentUser.authenticated}}),(function(e){return{logout:function(){return e(Object(j.c)())},toggleDarkMode:function(t){return e((S((n=t).theme),{type:"SET_APP_THEME",payload:n}));var n}}}))((function(e){var t=e.isAuthenticated,n=e.logout,a=e.toggleDarkMode,o=e.darkModeOn,c=_();return r.a.createElement("div",{className:c.grow},r.a.createElement(f.a,{position:"fixed",className:c.appBar},r.a.createElement(m.a,{variant:"dense",className:c.Toolbar},r.a.createElement(b.a,{variant:"h4",noWrap:!0},r.a.createElement(E.a,{color:"inherit",variant:"text",className:c.title},"Conmentarium")),r.a.createElement("div",{className:c.grow}),r.a.createElement(g.a,{checked:o,color:"secondary",onChange:function(e){e.target.checked?a({theme:"dark",darkModeOn:!0}):a({theme:"light",darkModeOn:!1})},name:"theme",icon:r.a.createElement(p.a,null),inputProps:{"aria-label":"set them (default: light)"}}),t&&r.a.createElement("div",null,r.a.createElement(E.a,{color:"inherit",className:c.AppBarButtons,onClick:n},"Logout")))))}));function C(){return r.a.createElement("header",null,r.a.createElement(y,null))}var U=n(24),L=n(215),R=n(223),A=n(216),D=n(214),w=n(72),x=n.n(w),F=n(56),I=n(69),M=n.n(I),H=n(70),P=n.n(H),G=n(68),B=n.n(G),q=n(107),z=n.n(q),J=n(108),W=n.n(J),X=n(71),V=n.n(X),K=n(77),Y=n.n(K),$=n(99),Q=n(3),Z=n(229),ee=n(231),te=n(101),ne=n.n(te),ae=n(30),re=n(14),oe=n.n(re),ce=n(28),ie=n(100),ue=Object(d.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"95% "}},shape:{width:30,height:30,margin:e.spacing(.5)},shapeCircle:{borderRadius:"25%"},colors:{margin:e.spacing(1),"& > *":{margin:e.spacing(1)}},card:{display:"flex",flexDirection:"column"}}}));var le=Object(O.connect)((function(e){return{}}),(function(e){return{refetchNote:function(t){return e(Object(ce.f)(t))},addNotification:function(t,n){return e(n(t))}}}))((function(e){var t=Object(i.a)({},e),n=t.note,o=t.handleToggleActions,c=t.addNotification,l=t.refetchNote,s=ue(),d=Object(a.useState)({id:n.id,title:n.title,body:n.body,color:n.color,tags:n.tags}),f=Object(U.a)(d,2),m=f[0],b=f[1],E=Object(a.useState)(!1),g=Object(U.a)(E,2),h=g[0],p=g[1],O=function(){var e=Object($.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),e.prev=2,e.next=5,Object(ae.i)(m);case 5:l(n.id),o("toggleDisplay"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c({title:e.t0.response.data.message||e.t0.request.statusText,message:"Failed to edit note"},re.error);case 12:p(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,n=t.name,a=t.value;b((function(e){return Object(i.a)({},e,Object(u.a)({},n,a))}))},v=function(e){var t=Object(i.a)({},e).color;return r.a.createElement("div",{className:Object(Q.a)(s.shape,s.shapeCircle),name:"color",style:{background:t||"red"},onClick:function(){return function(e){b((function(t){return Object(i.a)({},t,{color:e})}))}(t)}})};return r.a.createElement(L.a,{className:s.card,style:{background:m.color?m.color:null}},r.a.createElement("form",{className:s.root,noValidate:!0,autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(Z.a,{id:"filled-multiline-static",label:"Title",name:"title",multiline:!0,rowsMax:2,value:m.title,onChange:j,variant:"filled"}),r.a.createElement(Z.a,{id:"filled-multiline-static",label:"Body",name:"body",multiline:!0,rowsMax:10,value:m.body,onChange:j,variant:"filled"}),r.a.createElement(Z.a,{id:"filled-multiline-static",label:"Tags",name:"tags",multiline:!0,rowsMax:2,value:m.tags,onChange:j,variant:"filled"}),r.a.createElement("div",{className:s.colors},"Color",r.a.createElement(ee.a,{separator:" "},ie.a.map((function(e){return r.a.createElement(v,{color:e})})))))),r.a.createElement(A.a,null,r.a.createElement(D.a,{onClick:function(){return o("toggleDisplay")}},r.a.createElement(B.a,null)),r.a.createElement(D.a,null,r.a.createElement(M.a,null)),r.a.createElement(D.a,{onClick:function(){return o("toggleEdit")}},r.a.createElement(P.a,null)),r.a.createElement(D.a,{onClick:O,disabled:h},r.a.createElement(ne.a,null))))})),se=n(233),de=n(221),fe=n(219),me=n(220),be=n(218);var Ee=function(e){var t=Object(i.a)({},e),n=t.title,a=t.body,o=t.actionName,c=t.actionCallback,u=r.a.useState(!0),l=Object(U.a)(u,2),s=l[0],d=l[1],f=function(){return d(!1)};return r.a.createElement(se.a,{open:s,onClose:f,disableBackdropClick:!0},r.a.createElement(be.a,null,n),r.a.createElement(fe.a,null,r.a.createElement(me.a,null,a)),r.a.createElement(de.a,null,r.a.createElement(E.a,{color:"secondary",onClick:f,variant:"contained"},"Cancel"),r.a.createElement(E.a,{color:"secondary",autoFocus:"autoFocus",onClick:function(){return c()},variant:"contained"},o)))},ge=Object(d.a)((function(e){return{icon:{margin:e.spacing(1,1,0,0),width:20,height:20},card:{display:"flex",flexDirection:"column"},cardContent:{flexGrow:1}}}));var he=Object(O.connect)((function(e){return{isAuthenticated:e.auth.currentUser.authenticated,notebook:e.notebook,trashedNotes:e.notebook.trashedNotes}}),(function(e){return{deleteNote:function(t){return e(Object(ce.a)(t))},purgeNote:function(t){return e(Object(ce.e)(t))},restoreTrashedNote:function(t){return e(Object(ce.g)(t))}}}))((function(e){var t=Object(i.a)({},e),n=t.note,o=t.type,c=t.deleteNote,u=t.purgeNote,l=t.restoreTrashedNote,d=ge(),f=Object(a.useState)(!1),m=Object(U.a)(f,2),E=m[0],g=m[1],h=Object(a.useState)(!1),p=Object(U.a)(h,2),O=p[0],j=p[1],v=r.a.useState(!1),k=Object(U.a)(v,2),S=k[0],N=k[1],T=function(e){"toggleEdit"===e&&(j(!O),E&&g(!1)),"toggleDisplay"===e&&(g(!E),O&&j(!1)),"toggleDelete"===e&&(N(!S),O&&j(!1))};return r.a.createElement(s.a,{item:!0,key:n.id,xs:12,sm:6,md:4},O?r.a.createElement(le,{note:n,handleToggleActions:T}):r.a.createElement(L.a,{className:d.card,style:{background:n.color?n.color:null}},r.a.createElement(R.a,{className:d.cardContent},r.a.createElement(b.a,{gutterBottom:!0,variant:"h6",component:"h6"},n.title),r.a.createElement(b.a,null,E?n.body:Object(F.b)(n.body,20)),r.a.createElement(b.a,{variant:"body2",component:"body2"},r.a.createElement(z.a,{className:d.icon}),n.tags)),r.a.createElement(A.a,null,r.a.createElement(D.a,{onClick:function(){return T("toggleDisplay")},title:"Display note"},r.a.createElement(B.a,null)),"Trash"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{onClick:function(){return l(n.id)},title:"Restore note"},r.a.createElement(W.a,null)),r.a.createElement(D.a,{onClick:function(){return u(n.id)},title:"Purge note"},r.a.createElement(M.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{onClick:function(){return T("toggleDelete")},title:"Delete note"},r.a.createElement(V.a,{onClick:function(){return T("toggleDelete")}})),r.a.createElement(D.a,{onClick:function(){return T("toggleEdit")},title:"Edit note"},r.a.createElement(P.a,null))))),S&&r.a.createElement(Ee,{actionCallback:function(){return c(n.id)},actionName:"Delete",title:"Delete note",body:"Click delete to delete this note"}))})),pe=n(217),Oe=Object(d.a)((function(e){return{icon:{marginRight:e.spacing(2)},cardGrid:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:{flexGrow:1}}})),je=function(e){var t=Object(i.a)({},e),n=t.notebook,a=t.loadNotes,o=t.label,c=Oe();return r.a.createElement(r.a.Fragment,null,n&&n.length>=1?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,className:c.cardGrid,spacing:2},n.map((function(e){return r.a.createElement(pe.a,{in:!0},r.a.createElement(he,{note:e,key:e.id,type:o}))})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,className:c.cardGrid,spacing:4},r.a.createElement(s.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(L.a,{className:c.card},r.a.createElement(R.a,{className:c.cardContent},r.a.createElement(b.a,{gutterBottom:!0,variant:"h6",component:"h6"},"No notes in ".concat(o))),r.a.createElement(A.a,null,r.a.createElement(D.a,{className:c.icons},r.a.createElement(x.a,{onClick:a,title:"Refresh ".concat(o)}))))))))},ve=n(225),ke=n(121),Se=n(109),Ne=n.n(Se),Te=n(112),_e=n.n(Te),ye=n(111),Ce=n.n(ye),Ue=n(110),Le=n.n(Ue),Re=n(114),Ae=n.n(Re),De=n(115),we=n.n(De),xe=n(113),Fe=n.n(xe),Ie=n(226),Me=n(224),He=Object(d.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Pe(e){var t=He();return r.a.createElement(b.a,{align:e.align||"center",className:t.root},r.a.createElement(Me.a,{color:"secondary",size:30,thickness:5,disableShrink:!0}))}var Ge,Be,qe=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,234))})),ze=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,235))})),Je=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,236))})),We=Object(d.a)((function(e){return{card:{display:"flex",margin:e.spacing(1),boxShadow:"none !important"},cardDetails:{flex:1},cardMedia:{minWidth:160},a:{textDecoration:"none",color:e.palette.secondary.main},divider:{margin:e.spacing(1,0,2,0)}}})),Xe={SignIn:qe,SignUp:ze},Ve=Object(O.connect)((function(e){return{isAuthenticated:e.auth.currentUser.authenticated,notebook:e.notebook,trashedNotes:e.notebook.trashedNotes}}),(function(e){return{loadNotes:function(){return e(Object(ce.c)())},loadTrashedNotes:function(){return e(Object(ce.d)())},emptyTrash:function(){return e(Object(ce.b)())}}}))((function(e){var t=Object(i.a)({},e),n=t.isAuthenticated,o=t.notebook,c=t.loadNotes,u=t.loadTrashedNotes,l=t.trashedNotes,d=t.emptyTrash,f=We(),m=Object(a.useState)("SignIn"),g=Object(U.a)(m,2),h=g[0],p=g[1],O=Object(a.useState)(!1),j=Object(U.a)(O,2),v=j[0],k=j[1],S=Xe[h];return Object(a.useEffect)((function(){!n||o.notebook.length||o.isLoading||o.isLoaded||o.isError||c()}),[n,o,c]),r.a.createElement(r.a.Fragment,null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{onClick:function(){return k(!v)}},r.a.createElement(Fe.a,{onClick:function(){return k(!v)}})),r.a.createElement(Ie.a,{className:f.divider}),v&&r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(Pe,null)},r.a.createElement(Je,{setCurrentAuthOP:p,setDisplayAddNoteComponent:k})),r.a.createElement(Ie.a,{className:f.divider})),r.a.createElement(D.a,null,r.a.createElement(Ae.a,null)),r.a.createElement(je,{notebook:o.notebook,loadNotes:c,label:"Recent"}),r.a.createElement(D.a,null,r.a.createElement(we.a,null)),r.a.createElement(je,{notebook:[],loadNotes:c,label:"Favorites"}),r.a.createElement(D.a,null,r.a.createElement(V.a,null)),r.a.createElement(D.a,null,r.a.createElement(x.a,{onClick:u})),r.a.createElement(E.a,{onClick:d},"Purge Trash"),r.a.createElement(je,{notebook:l.notes,loadNotes:u,label:"Trash"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{container:!0,component:ke.a},r.a.createElement(s.a,{item:!0,xs:12,sm:6,md:6},r.a.createElement("div",null,r.a.createElement(L.a,{className:f.card},r.a.createElement(R.a,null,r.a.createElement(b.a,{variant:"h5",gutterBottom:!0},"Conmentarium, a simple notebook for all ideas."),r.a.createElement(b.a,{variant:"subtitle2",color:"textSecondary",paragraph:!0},"Minimalistic notebook app built with React + Material-UI, and served with Flask. Star, fork or contribute if you wish so.",r.a.createElement("a",{href:"https://github.com/MurphyAdam",target:"_blank",rel:"noopener noreferrer",className:f.a}," By: @GitHub/MurphyAdam (Majdi)")),r.a.createElement(D.a,{component:"a",title:"GitHub","aria-label":"GitHub",color:"inherit",href:"https://github.com/MurphyAdam",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ne.a,null)),r.a.createElement(D.a,{component:"a",title:"Source code","aria-label":"Source code",color:"inherit",href:"https://github.com/MurphyAdam/Conmentarium",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Le.a,null)),r.a.createElement(D.a,{component:"a",title:"LinkedIn","aria-label":"LinkedIn",color:"inherit",href:"https://www.linkedin.com/in/majdi-mahfoud-258461198/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(Ce.a,null)),r.a.createElement(D.a,{component:"a",title:"Email","aria-label":"Email",color:"inherit",href:"mailto:langandcode@gmail.com",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(_e.a,null))),r.a.createElement(ve.a,{className:f.cardMedia,image:"https://res.cloudinary.com/lang-code/image/upload/v1600369514/images/notes_lkh985.png",title:"Conmentarium"})))),r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(Pe,null)},r.a.createElement(S,{setCurrentAuthOP:p})))))})),Ke=n(118),Ye=n(227),$e=n(15),Qe=n.n($e),Ze=window.location.origin;Qe()("".concat(Ze,"/api/handshake")).then((function(e){e&&(Ge=v("_csrf_token"),Be=!!Ge,Qe.a.defaults.baseURL=Ze,Qe.a.defaults.headers.common["X-CSRFTOKEN"]=Ge)}));var et={defaultPaletteColors:{primary:{light:"#484848",main:"#212121",dark:"#000000"},secondary:{light:"#ffff6e",main:"#009688",dark:"#009692"}},Tokens:{csrf:{exists:Be,token:Ge}}},tt=Object(d.a)((function(e){return{root:Object(u.a)({width:"auto",marginTop:e.spacing(10),marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(1100+e.spacing(6)),{width:1100,marginLeft:"auto",marginRight:"auto"})}})),nt={NotificationItem:{DefaultStyle:{margin:"5px 5px 2px 1px"}}};var at=Object(O.connect)((function(e){return{ui:e.ui,isAuthenticated:e.auth.currentUser.authenticated,notifications:e.notifications}}),(function(e){return{loadUser:function(){return e(Object(j.b)())}}}))((function(e){var t=Object(i.a)({},e),n=t.ui,o=t.loadUser,c=t.isAuthenticated,u=t.notifications,d=tt(),f=Object(Ke.a)({palette:{type:n.theme,primary:et.defaultPaletteColors.primary,secondary:et.defaultPaletteColors.secondary,contrastThreshold:3,tonalOffset:.2},typography:{fontSize:14}});return Object(a.useEffect)((function(){c?Object(F.a)("Conmentarium: A Simple Notebook App"):o()}),[c]),r.a.createElement(Ye.a,{theme:f},r.a.createElement(l.a,null),r.a.createElement(s.a,{component:"main",className:d.root},r.a.createElement(C,null),r.a.createElement(oe.a,{notifications:u,style:nt}),r.a.createElement(Ve,null)))})),rt=n(33),ot=n(116),ct=n(117),it=n.n(ct),ut=n(9),lt={currentUser:{authenticated:!1,user:null,fresh:!1,isLoading:!1,isLoaded:!1},userSubject:{success:!1,isLoading:!1,isLoaded:!1}};var st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut.b:return Object(i.a)({},e,{currentUser:Object(i.a)({},lt.currentUser,{isLoading:!0})});case ut.d:return Object(i.a)({},e,{currentUser:Object(i.a)({},e.currentUser,{authenticated:!0,user:t.payload.user,isLoaded:!0,isLoading:!1,fresh:!0})});case ut.c:return Object(i.a)({},e,{currentUser:Object(i.a)({},lt.currentUser)});case ut.e:return Object(i.a)({},e,{currentUser:Object(i.a)({},e.currentUser,{authenticated:!0,user:t.payload.currentUser,isLoaded:!0,isLoading:!1,fresh:!0})});case ut.f:return Object(i.a)({},e,{currentUser:Object(i.a)({},e.currentUser,{isLoading:!0,isLoaded:!1,fresh:!1})});case ut.h:return Object(i.a)({},e,{currentUser:Object(i.a)({},e.currentUser,{authenticated:!0,user:t.payload.user,isLoaded:!0,isLoading:!1,fresh:!0})});case ut.g:return Object(i.a)({},e,{currentUser:Object(i.a)({},e.currentUser,{isLoaded:!0,isLoading:!1})});case ut.l:return Object(i.a)({},e,{userSubject:Object(i.a)({},lt.userSubject,{isLoading:!0})});case ut.n:return Object(i.a)({},e,{userSubject:Object(i.a)({},lt.userSubject,{success:!0,isLoaded:!0,isLoading:!1})});case ut.m:return Object(i.a)({},e,{userSubject:Object(i.a)({},lt.userSubject,{isLoaded:!0,isLoading:!1})});case ut.i:return Object(i.a)({},e,{currentUser:Object(i.a)({},e.currentUser,{isLoading:!0,isLoaded:!1,fresh:!1})});case ut.k:return Object(i.a)({},lt,{currentUser:Object(i.a)({},lt.currentUser,{isLoading:!1,authenticated:!1,user:null})});case ut.j:return Object(i.a)({},lt,{currentUser:Object(i.a)({},e.currentUser,{isLoading:!1,isLoaded:!0})});default:return e}},dt=n(10),ft=n(21),mt={trashedNotes:{notes:[],isLoading:!1,isLoaded:!1,count:0},notebook:[],count:0,isLoading:!1,isLoaded:!1};var bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt.h:return Object(i.a)({},mt,{isLoading:!0});case dt.j:return Object(i.a)({},e,{notebook:Object(ft.a)(t.payload.notes||e.notebook),count:e.notebook.length,isLoading:!1,isLoaded:!0});case dt.i:return Object(i.a)({},e,{isLoading:!1,isLoaded:!0});case dt.p:var n,a,r;return Object(i.a)({},e,{notebook:Object(ft.a)(Object(ft.b)(e.notebook,null===(n=t.payload)||void 0===n||null===(a=n.note)||void 0===a?void 0:a.id),[null===(r=t.payload)||void 0===r?void 0:r.note]),count:e.notebook.length});case dt.c:var o;return Object(i.a)({},e,{notebook:Object(ft.b)(e.notebook,t.payload.note_id),count:e.notebook.length,isLoading:!1,isLoaded:!0,trashedNotes:{notes:Object(ft.a)(e.trashedNotes.notes,[null===(o=t.payload)||void 0===o?void 0:o.note]),count:e.trashedNotes.notes.length,isLoading:!1,isLoaded:!0}});case dt.m:var c;return Object(i.a)({},e,{trashedNotes:{notes:(null===(c=t.payload)||void 0===c?void 0:c.notes)||e.trashedNotes.notes,count:e.trashedNotes.notes.length,isLoading:!1,isLoaded:!0}});case dt.f:return Object(i.a)({},e,{trashedNotes:{notes:Object(ft.b)(e.trashedNotes.notes,t.payload.note_id),count:e.trashedNotes.notes.length,isLoading:!1,isLoaded:!0}});case dt.s:return Object(i.a)({},e,{notebook:Object(ft.a)(e.notebook,[t.payload.note]),count:e.notebook.length,isLoading:!1,isLoaded:!0,trashedNotes:{notes:Object(ft.b)(e.trashedNotes.notes,t.payload.note_id),count:e.trashedNotes.notes.length,isLoading:!1,isLoaded:!0}});case dt.g:return Object(i.a)({},e,{trashedNotes:Object(i.a)({},mt.trashedNotes)});case ut.a:return mt;default:return e}},Et={theme:T,darkModeOn:N};var gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_THEME":return Object(i.a)({},e,{theme:t.payload.theme,darkModeOn:t.payload.darkModeOn});default:return e}},ht=Object(rt.c)({ui:gt,auth:st,notebook:bt,notifications:re.reducer}),pt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||rt.d,Ot=Object(rt.e)(ht,pt(Object(rt.a)(ot.a,it.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jt=document.getElementById("root");c.a.render(r.a.createElement(O.Provider,{store:Ot},r.a.createElement(at,null)),jt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));n(6);var a=n(42),r=n(0),o=n.n(r);function c(e,t){return e.filter((function(e){return e.id!==t&&e}))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[].concat(Object(a.a)(e),Object(a.a)(t));return n.sort((function(e,t){return e.date_updated&&t.date_updated?new Date(t.date_updated)-new Date(e.date_updated):e.date_created&&t.date_created?new Date(t.date_created)-new Date(e.date_created):e.date&&t.date?new Date(t.date)-new Date(e.date):e-t})),n}var u={title:"",message:"",position:"bc",autoDismiss:2,renderArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o.a.createElement("ul",null,e.map((function(e){return o.a.createElement("li",null,e)})))}}},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return S}));var a=n(10),r=n(14),o=n(30),c=n(21),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}},u=function(e){return i(a.j,e)},l=function(e){return i(a.i,e)};function s(){return function(e){e(i(a.h)),Object(o.e)().then((function(t){return 200!==t.status&&e(l(t)),t})).then((function(t){e(u(t.data))})).catch((function(t){console.log("error =>",t),e(l(t)),e(Object(r.error)({title:t.response.data.message||t.request.statusText,message:"Failed to load notebooks"}))}))}}var d=function(e){return function(t,n){if(e){var a=n().notebook.notebook;return a=Object(c.a)(a,[e]),void t(u({notes:a}))}}},f=function(e){return i(a.o,e)},m=function(e){return function(t){t(i(a.n)),Object(o.d)(e).then((function(e){return 200!==e.status&&t(f(e)),e})).then((function(e){var n;t((n=e.data,i(a.p,n)))})).catch((function(e){t(f(e)),t(Object(r.error)({title:e.response.data.message||e.request.statusText,message:"Failed to refetch note"}))}))}},b=function(e){return i(a.a)},E=function(e){return i(a.b,e)},g=function(e){return function(t){t(b()),Object(o.b)(e).then((function(e){return 200!==e.status&&t(E(e)),e})).then((function(n){var r,o;t((o={note:null===(r=n.data)||void 0===r?void 0:r.note,note_id:e},i(a.c,o)))})).catch((function(e){t(E(e)),t(Object(r.error)({title:e.response.data.message||e.request.statusText,message:"Failed to delete note"}))}))}},h=function(e){return i(a.l,e)};function p(){return function(e){e(i(a.k)),Object(o.f)().then((function(t){return 200!==t.status&&e(h(t)),t})).then((function(t){var n,r=Object(c.a)(t.data.notes||[]);e((n={notes:r},i(a.m,n)))})).catch((function(t){console.log("error =>",t),e(h(t)),e(Object(r.error)({title:t.response.data.message||t.request.statusText,message:"Failed to load notebooks"}))}))}}var O=function(){return function(e){e(b()),Object(o.c)().then((function(e){return e})).then((function(t){var n;e((n=t.data,i(a.g,n)))})).catch((function(t){e(Object(r.error)({title:t.response.data.message||t.request.statusText,message:"Failed to delete note"}))}))}},j=function(e){return i(a.e,e)},v=function(e){return function(t){t(i(a.d)),Object(o.g)(e).then((function(e){return 200!==e.status&&t(j(e)),e})).then((function(e){var n;t((n=e.data,i(a.f,n)))})).catch((function(e){t(j(e)),t(Object(r.error)({title:e.response.data.message||e.request.statusText,message:"Failed to purge note"}))}))}},k=function(e){return i(a.r,e)};function S(e){return function(t){t(i(a.q)),Object(o.h)(e).then((function(e){return 200!==e.status&&t(k(e)),e})).then((function(n){var r,o;t((o={note:null===(r=n.data)||void 0===r?void 0:r.note,note_id:e},i(a.s,o)))})).catch((function(e){t(k(e)),t(Object(r.error)({title:e.response.data.message||e.request.statusText,message:"Failed to refetch note"}))}))}}},30:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return b}));var a=n(6),r=n(15),o=n.n(r),c=function(){return o.a.get("/api/notebook")},i=function(e){return o.a.get("/api/notebook/".concat(e))},u=function(e){return o.a.post("/api/notebook",Object(a.a)({},e))},l=function(e){return o.a.put("/api/notebook/".concat(e.id),Object(a.a)({},e))},s=function(e){return o.a.delete("/api/notebook/".concat(e))},d=function(){return o.a.get("/api/notebook/trash")},f=function(){return o.a.delete("/api/notebook/trash")},m=function(e){return o.a.delete("/api/notebook/trash/".concat(e))},b=function(e){return o.a.put("/api/notebook/trash/".concat(e))}},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return null!==e&&void 0!==e&&e.length<t?e:e.substring(0,t)+".."},r=function(e){return window.document.title=e}},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return p}));var a=n(9),r=n(6),o=n(15),c=n.n(o),i=n(14),u=n(21),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t}},s=function(){return l(a.c)},d=function(e){return l(a.g,e)},f=function(e){return l(a.m,e)},m=function(e){return l(a.j,e)},b=function(){return l(a.a)};function E(){return function(e){var t,n=JSON.parse(localStorage.getItem("currentUser"));null===n||void 0===n||isNaN(parseInt(n))||(e(l(a.b)),(t=n,c()("/api/auth/current_user/".concat(t))).then((function(t){return 200!==t.status&&e(s()),t})).then((function(t){var n;e((n=t.data,l(a.d,n))),e(b())})).catch((function(){e(s())})))}}function g(e){return function(t){t(l(a.f)),function(e){return c.a.post("/api/auth/signin",Object(r.a)({},e))}(e).then((function(e){return 200!==e.status&&t(d(e)),e})).then((function(e){var n;t((n=e.data,l(a.h,n))),t(b()),t(Object(i.removeAll)()),localStorage.setItem("currentUser",JSON.stringify(e.data.user.id))})).catch((function(e){var n,a;t(d(e)),t(Object(i.error)({title:e.response.data.message||e.request.statusText,message:"Failed to sign in",children:u.c.renderArray(null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors)}))}))}}function h(e){return function(t){t(l(a.l)),function(e){return c.a.post("/api/auth/signup",Object(r.a)({},e))}(e).then((function(e){return 200!==e.status&&t(f(e)),e})).then((function(e){var n;t((n=e.data,l(a.n,n))),t(Object(i.removeAll)())})).catch((function(e){var n,a;t(f(e)),t(Object(i.error)({title:e.response.data.message||e.request.statusText,message:"Failed to sign up",children:u.c.renderArray(null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.errors)}))}))}}function p(){return function(e){e(l(a.i)),c.a.get("/api/auth/logout").then((function(t){return 200!==t.status&&e(m(t)),t})).then((function(t){var n;localStorage.removeItem("currentUser"),e((n=t.data,l(a.k,n))),e(Object(i.removeAll)()),e(b())})).catch((function(t){e(m(t)),e(Object(i.error)({title:t.response.data.message||t.request.statusText,message:"Failed to logout up"}))}))}}},9:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return c})),n.d(t,"n",(function(){return i})),n.d(t,"m",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"e",(function(){return E})),n.d(t,"a",(function(){return g}));var a="USER_LOGIN",r="USER_LOGIN_SUCCESS",o="USER_LOGIN_FAILURE",c="USER_SIGNUP",i="USER_SIGNUP_SUCCESS",u="USER_SIGNUP_FAILURE",l="LOAD_CURRENT_USER",s="LOAD_CURRENT_USER_SUCCESS",d="LOAD_CURRENT_USER_FAILURE",f="USER_LOGOUT",m="USER_LOGOUT_SUCCESS",b="USER_LOGOUT_FAILURE",E="RELOAD_USER_SUCCESS",g="INITIATE_AUTH_CLEANUP"}},[[128,1,2]]]);
//# sourceMappingURL=main.ad26d460.chunk.js.map